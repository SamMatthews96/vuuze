<div>
  <canvas id="chart"></canvas>
</div>

<link rel="stylesheet" href="style.css">

<script type='module'>
  import Intreface from './main.js'
  const bindTo = document.getElementById('chart')
  const { Retool, Chart } = Intreface;
  let instance

  const data = {
    data: {
      Income: {
        //color: 'rgba(255, 99, 132, 0.2)',
        //tick: '${{value}}',
        dataset: { "June": 100, "July": 200, "August": 300.5, "September": 251.42 }
      },
      Outgoing: {
        //tick: 'GBP {{value}}',
        dataset: { "June": 32, "July": 32.4, "August": 30.5, "September": 821.43 }
      },
      Plan: {
        dataset: { "June": 332, "July": 312.4, "August": 330.5, "September": 321.43 }
      }
    },
    parameters: {
      //stacked: true,
      title: 'Hello World!'
    }
  }
  Retool.setContext({
    subscribe: model => model(data)
  })

  Retool.onCreate(model => {
    instance = Chart.Bar(data)
  });

  // Retool.onUpdate(model => {
  //   instance.update();
  // });
  Retool.listen();
</script>